<!DOCTYPE html>
<html lang="en-us">

<head>

	<script>
		window.onload = function() {
			fetchWeatherData();
		}
	</script>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- theme meta -->
	<!-- ** CSS Plugins Needed for the Project ** -->

	<!-- Bootstrap -->
	<link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
	<!-- themefy-icon -->
	<link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
	<!--Favicon-->
	<link rel="icon" href="images/favicon.png" type="image/x-icon">
	<!-- fonts -->
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
	<!-- Main Stylesheet -->
	<link href="assets/style.css" rel="stylesheet" media="screen" />
</head>

<body>
	
	<!-- header -->
	<header>
		<div class="container section">
			<div class="row">
				<div class="col-lg-8 text-center mx-auto">
					<h id="headertext"><img src="assets/images/App_Logo.jpg" width="237" height="47" alt=""></h>
					<div style="height: 70px; width: 100px"></div>			
					 <div class="input-group">
						<input type="search" class="form-control rounded" placeholder="Enter a City" aria-label="Search" aria-describedby="search-addon" />
						<button type="button" class="btn btn-outline-primary" id="addcity">Add City</button>
					  </div>
			</div>
		</div>
		<!-- /banner -->
	</header>
	<!-- /header -->
<section>

	<div class="widgets">

		<script>
			function showweather(weatherArray){
			var divContainer = document.getElementById("divContainer");
			
			for (var i = 0; i < weatherArray.length; i++) {
			  var weatherData = weatherArray[i];
			  var widgetCell = document.createElement("div");
			
			  var weatherDiv = document.createElement("div");
			  
  let Top_right_div;
  let Top_left_div;

  let weatherDescription = weatherData.weatherDes;
  if (weatherDescription === 'overcast clouds') {
    Top_right_div = 'assets/images/Top_right_div_purple.jpg';
	Top_left_div  = 'assets/images/Top_left_div_purple.jpg';
  } else if (weatherDescription === 'clear sky') {
	 Top_right_div = 'assets/images/Top_right_div_green.jpg';
	 Top_left_div  = 'assets/images/Top_left_div_green.jpg';
  } else if (weatherDescription === 'scattered clouds') {
	Top_right_div = 'assets/images/Top_right_div_purple.jpg';
	Top_left_div  = 'assets/images/Top_left_div_purple.jpg';
  } else if (weatherDescription === 'broken clouds') {
	Top_right_div = 'assets/images/Top_right_div_purple.jpg';
	Top_left_div  = 'assets/images/Top_left_div_purple.jpg';
  } else if (weatherDescription === 'mist') {
	Top_right_div = 'assets/images/Top_right_div_red.jpg';
	Top_left_div  = 'assets/images/Top_left_div_red.jpg';
  } else if (weatherDescription === 'few clouds') {
	Top_right_div = 'assets/images/Top_right_div.jpg';
	Top_left_div  = 'assets/images/Top_left_div.jpg';
  } else if (weatherDescription === 'light rain') {
	Top_right_div = 'assets/images/Top_right_div_orange.jpg';
	Top_left_div  = 'assets/images/Top_left_div_orange.jpg';
  } else {
    return 'error';
  }

			
			  widgetCell.classList.add("widget-cell");
			  widgetCell.innerHTML =  `
			  <a href="http://127.0.0.1:5501/ViewWeather.html?country=${weatherData.Country}&City=${weatherData.cityName}&Time=${weatherData.currentTime}&Date=${weatherData.currentDate}&Icon=${weatherData.weatherIcon}&Wed=${weatherData.weatherDes}&Mintemp=${weatherData.minTemp}&Maxtemp=${weatherData.maxTemp}&Pressure=${weatherData.pressure}&Humidity=${weatherData.humidity}&Visibility=${weatherData.visibility}&windspeed=${weatherData.windSpeed}&winddegree=${weatherData.windDegree}&sunrise=${weatherData.sunrise}&sunset=${weatherData.sunset}&Temp=${weatherData.temp}">
			  <div style="display: flex; flex-direction: column;">
         	  <div style="display: flex;">
                 <div style="background-image: url(${Top_right_div}); width: 299px; height: 217px; float: right;">
					  <div style="position: relative; top: 50px; left: 80px; font-family: Arial, Helvetica, sans-serif ;font-size: 170% ; color: aliceblue;" name="cityname">
						`+weatherData.Country+ `, ` + weatherData.cityName + `
					  </div>
					  <div style="position: relative; top: 60px; left: 100px; font-family: Arial, Helvetica, sans-serif ;font-size: 70% ; color: aliceblue;" name="dateandtime">
						` + weatherData.currentTime + `, ` + weatherData.currentDate + `
					  </div>
					  <div style="position: relative; top: 80px; left: 140px; font-family: Arial, Helvetica, sans-serif ;font-size: 120% ; color: aliceblue;" name="dateandtime">
						<img src="http://openweathermap.org/img/wn/${weatherData.weatherIcon}.png" alt="Weather Icon"> ` + weatherData.weatherDes + `
					  </div>
					</div>
					<div style="background-image: url(${Top_left_div}); width: 280px; height: 217px; float: left;">
					  <div style="position: relative; top: 45px; left: 80px; font-family: Arial, Helvetica, sans-serif ;font-size: 340% ; color: aliceblue;" name="cityname">
						` + weatherData.temp + `°c
					  </div>
					  <div style="position: relative; top: 60px; left: 80px; font-family: Arial, Helvetica, sans-serif ;font-size: 80% ; color: aliceblue;" name="dateandtime">
						Temp Min : ` + weatherData.minTemp + `°c<br>
						Temp Max : ` + weatherData.maxTemp + `°c<br>
					  </div>
					</div>
				  </div>
				  <div style="display: flex;">
					<div style="background-image: url('assets/images/bottom_left_div.jpg'); width: 211px; height: 151px; float: left;">
					  <div style="position: relative; top: 30px; left: 50px; font-family: Arial, Helvetica, sans-serif ;font-size: 90% ; color: aliceblue;" name="dateandtime">
						Pressure: ` + weatherData.pressure + `hPa   <br><br>
						Humidity: ` + weatherData.humidity + `%  <br><br>
						Visibility: `+ weatherData.visibility +`.0Km <br><br>
								</div>
								</div>
								<div style="background-image: url('assets/images/bottom_center_div.jpg'); width: 176px; height: 151px;">
									<div style="position: relative; top: 85px; left: 30px; font-family: Arial, Helvetica, sans-serif ;font-size: 90% ; color: aliceblue;"name="dateandtime">
										`+ weatherData.windSpeed +`m/s `+ weatherData.windDegree +` Degree
									</div>
								
								</div>
								<div style="background-image: url('assets/images/bottom_right_div.jpg'); width: 192px; height: 151px; float: right;">
									<div style="position: relative; top: 50px; left: 55px; font-family: Arial, Helvetica, sans-serif ;font-size: 90% ; color: aliceblue;"name="dateandtime">
										Sunrise: `+ weatherData.sunrise +` <br><br>
										Sunset: `+ weatherData.sunset +`  <br><br>
									   </div>
								</div>
							</div>
						</div>
					</div>
					</a>`
			
					document.querySelector(".widgets").appendChild(widgetCell);
				}
			}
			</script>
	  </div>
 
</section>

	<!-- ** JS Plugins Needed for the Project ** -->
	<!-- jquiry -->
	<script src="plugins/jquery/jquery-1.12.4.js"></script>
	<!-- Bootstrap JS -->
	<script src="plugins/bootstrap/bootstrap.min.js"></script>
	<!-- match-height JS -->
	<script src="plugins/match-height/jquery.matchHeight-min.js"></script>
	<!-- Main Script -->
	<script src="assets/script.js"></script>

	<footer id="footer">
		<div class="container">
		  <div class="col-md- text-md-center text-center">
			<p style="text-align: center; font-size: px;"><b>2023 Fidenz Technologies</b> </p>
		  </div>
		</div>
	  </footer>
</body>


</html>
